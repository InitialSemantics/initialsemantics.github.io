<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Modules.Prelims.quotientmonad</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Modules.Prelims.quotientmonad</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab4"></a><h2 class="section">Quotient of a monad.</h2>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Description: This module construct the quotient of a monad with respect to pointwise
    equivalence relation which as suitable compatibility relations to ensure that the
    monad structures goes through the quotient.                                        
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.Foundations.PartD</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.CategoryTheory.Monads.Monads</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.CategoryTheory.SetValuedFunctors</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.CategoryTheory.HorizontalComposition</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.CategoryTheory.functor_categories</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.CategoryTheory.categories.HSET.All</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.CategoryTheory.Categories</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.Foundations.Sets</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.CategoryTheory.Epis</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.CategoryTheory.EpiFacts</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Modules.Prelims.lib.html#"><span class="id" title="library">Modules.Prelims.lib</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Modules.Prelims.EpiComplements.html#"><span class="id" title="library">Modules.Prelims.EpiComplements</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "α ∙∙ β" := (<span class="id" title="definition">horcomp</span> <span class="id" title="var">β</span> <span class="id" title="var">α</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'SET'" := <span class="id" title="definition">hset_category</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "F ;;; G" := (<span class="id" title="definition">nat_trans_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 35).<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Automatic</span> <span class="id" title="var">Introduction</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="QuotientMonad"><span class="id" title="section">QuotientMonad</span></a>.<br/>

<br/>
</div>

<div class="doc">
We start by just considering the quotient of the monad <span class="inlinecode"><a class="idref" href="Modules.Prelims.LModulesComplements.html#R"><span class="id" title="variable">R</span></a></span> as a functor.  Further
    compatibility for the monad composition are assumed later. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">R</span> : <span class="id" title="definition">Monad</span> <span class="id" title="notation">SET</span>}.<br/>

<br/>
</div>

<div class="doc">
  R preserves epimorphisms.
    This is needed to prove the the horizontal composition of the
    canonical projection with itself is epimorphic.
   This is always the case if one assumes the axiom of choice because then all
  epimorphisms have a retract, and thus are absolute.
 
</div>
<div class="code">
<span class="id" title="keyword">Context</span> (<span class="id" title="var">R_epi</span> : <a class="idref" href="Modules.Prelims.EpiComplements.html#preserves_Epi"><span class="id" title="definition">preserves_Epi</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">eqrel_equivc</span> : <span class="id" title="notation">∏</span> <span class="id" title="var">c</span><span class="id" title="notation">,</span> <span class="id" title="definition">eqrel</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a> : <span class="id" title="definition">hSet</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">congr_equivc</span> : <span class="id" title="notation">∏</span> <span class="id" title="notation">(</span><span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="notation">SET</span>) (<span class="id" title="var">f</span> : <span class="id" title="notation">SET</span><span class="id" title="notation">⟦</span><a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">,</span><a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">⟧</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">iscomprelrelfun</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#eqrel_equivc"><span class="id" title="variable">eqrel_equivc</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Modules.Prelims.quotientmonad.html#eqrel_equivc"><span class="id" title="variable">eqrel_equivc</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a>) (<span class="id" title="notation">#</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#f"><span class="id" title="variable">f</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Let</span> <a name="QuotientMonad.equivc"><span class="id" title="variable">equivc</span></a> {<span class="id" title="var">c</span>:<span class="id" title="definition">hSet</span>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> := <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.eqrel_equivc"><span class="id" title="variable">eqrel_equivc</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
</div>

<div class="doc">
We define the quotient functor of R by these equivalence relations

<div class="paragraph"> </div>

The following comment may be outdated
<hr/>

I need to make it not convertible to quot_functor otherwise
Coq takes a long time to check or compute things.
For example :   R' ((R' □ R') c) = (R' □ R') (R' c) by reflexivity
is so slow when R' is definitely equal to quot_functor !
<hr/>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="R'"><span class="id" title="definition">R'</span></a>: <span class="id" title="definition">functor</span> <span class="id" title="notation">SET</span> <span class="id" title="notation">SET</span> := <span class="id" title="definition">quot_functor</span> (<span class="id" title="projection">pr1</span> (<span class="id" title="projection">pr1</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>)) <span class="id" title="var">_</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.congr_equivc"><span class="id" title="variable">congr_equivc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="projR"><span class="id" title="definition">projR</span></a> : <span class="id" title="notation">(</span><a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>:<span class="id" title="definition">functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><span class="id" title="notation">)</span> <span class="id" title="notation">⟹</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> := <span class="id" title="definition">pr_quot_functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.congr_equivc"><span class="id" title="variable">congr_equivc</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isEpi_projR_pw"><span class="id" title="lemma">isEpi_projR_pw</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="var">x</span><span class="id" title="notation">,</span> <span class="id" title="definition">isEpi</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">isEpi_pw_pr_quot_functor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isEpi_RprojR_pw"><span class="id" title="lemma">isEpi_RprojR_pw</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="var">x</span><span class="id" title="notation">,</span> <span class="id" title="definition">isEpi</span> (<span class="id" title="notation">#</span><a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R_epi"><span class="id" title="variable">R_epi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_pw"><span class="id" title="lemma">isEpi_projR_pw</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="isEpi_projR"><span class="id" title="lemma">isEpi_projR</span></a> : <span class="id" title="definition">isEpi</span> (<span class="id" title="var">C</span>:=<span class="id" title="definition">functor_category</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">isEpi_pr_quot_functor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isEpi_projR_projR_pw"><span class="id" title="lemma">isEpi_projR_projR_pw</span></a> <span class="id" title="var">x</span> : <span class="id" title="definition">isEpi</span>  ((<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.EpiComplements.html#isEpi_horcomp_pw2"><span class="id" title="lemma">isEpi_horcomp_pw2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_pw"><span class="id" title="lemma">isEpi_projR_pw</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_RprojR_pw"><span class="id" title="lemma">isEpi_RprojR_pw</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isEpi_R_projR_projR_pw"><span class="id" title="lemma">isEpi_R_projR_projR_pw</span></a> <span class="id" title="var">x</span> : <span class="id" title="definition">isEpi</span>  (<span class="id" title="notation">#</span><a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> ((<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R_epi"><span class="id" title="variable">R_epi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_projR_pw"><span class="id" title="lemma">isEpi_projR_projR_pw</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isEpi_projR_projR"><span class="id" title="lemma">isEpi_projR_projR</span></a> : <span class="id" title="definition">isEpi</span> (<span class="id" title="var">C</span>:=<span class="id" title="definition">functor_category</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">is_nat_trans_epi_from_pointwise_epis</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_projR_pw"><span class="id" title="lemma">isEpi_projR_projR_pw</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eq_projR_rel"><span class="id" title="lemma">eq_projR_rel</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.equivc"><span class="id" title="variable">equivc</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="definition">invmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">weqpathsinpr_quot_functor</span> (<span class="id" title="var">D</span>:=<span class="id" title="notation">SET</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.congr_equivc"><span class="id" title="variable">congr_equivc</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rel_eq_projR"><span class="id" title="lemma">rel_eq_projR</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.equivc"><span class="id" title="variable">equivc</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">weqpathsinpr_quot_functor</span> (<span class="id" title="var">D</span>:=<span class="id" title="notation">SET</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.congr_equivc"><span class="id" title="variable">congr_equivc</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ec50cc74bed6a937afd8ab446daf1ec7"><span class="id" title="definition">R'_η</span></a> : <span class="id" title="notation">(</span><span class="id" title="definition">functor_identity</span> <span class="id" title="notation">SET</span><span class="id" title="notation">)</span> <span class="id" title="notation">⟹</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> := <span class="id" title="definition">η</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#f5c59c7213f28c578797f53393fa01f9"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> .<br/>

<br/>

<br/>
</div>

<div class="doc">
Now, in order to carry the monad structure on the quotient functor <span class="inlinecode"><a class="idref" href="Modules.SoftEquations.AdjunctionEquationRep.html#QuotientRep.R'"><span class="id" title="variable">R'</span></a></span>, we introduce
    a condition that ensure the compatibility of the monad composition with the
    equivalence relation.  Note that, no condition are needed for the the compatibility
    of the unit of the monad.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="359101606e393eb96f2071864a3a1db1"><span class="id" title="definition">compat_μ_projR_def</span></a> <br/>
&nbsp;&nbsp;:= <span class="id" title="notation">∏</span> <span class="id" title="notation">(</span><span class="id" title="var">X</span> : <span class="id" title="notation">SET</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="projection">pr1</span> ((<span class="id" title="projection">pr1</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <span class="id" title="notation">□</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>)) <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">μ</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a><a class="idref" href="Modules.Prelims.quotientmonad.html#f5c59c7213f28c578797f53393fa01f9"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=</span> (<span class="id" title="definition">μ</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a><a class="idref" href="Modules.Prelims.quotientmonad.html#f5c59c7213f28c578797f53393fa01f9"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="14738aae9de01fcbe7fd11d60fd609c6"><span class="id" title="variable">compat_μ_projR</span></a> : <a class="idref" href="Modules.Prelims.quotientmonad.html#359101606e393eb96f2071864a3a1db1"><span class="id" title="definition">compat_μ_projR_def</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a>  : <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <span class="id" title="notation">□</span>  <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <span class="id" title="notation">⟹</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">univ_surj_nt</span> (<span class="id" title="var">A</span>:= <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <span class="id" title="notation">□</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>) (<span class="id" title="var">B</span>:=<span class="id" title="definition">functor_composite</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a>)                    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">μ</span>  ( <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#f5c59c7213f28c578797f53393fa01f9"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#14738aae9de01fcbe7fd11d60fd609c6"><span class="id" title="variable">compat_μ_projR</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_projR"><span class="id" title="lemma">isEpi_projR_projR</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="c61d9877351564bc35e5478e78a171eb"><span class="id" title="lemma">R'_μ_def</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="notation">(</span><span class="id" title="var">x</span>:<span class="id" title="notation">SET</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=</span> <span class="id" title="definition">μ</span> ( <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">univ_surj_nt_ax_pw</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="R'_Monad_data"><span class="id" title="definition">R'_Monad_data</span></a> : <span class="id" title="definition">Monad_data</span> <span class="id" title="notation">SET</span> := (<span class="id" title="notation">(</span><a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <span class="id" title="notation">,,</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">,,</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#ec50cc74bed6a937afd8ab446daf1ec7"><span class="id" title="definition">R'_η</span></a>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="b4640058659b4a9346238ec8a179ce55"><span class="id" title="lemma">R'_Monad_law_η1</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="var">c</span> : <span class="id" title="notation">SET</span><span class="id" title="notation">,</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#ec50cc74bed6a937afd8ab446daf1ec7"><span class="id" title="definition">R'_η</span></a> (<a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>) <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="notation">=</span> <span class="id" title="definition">identity</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="lemma">is_pointwise_epi_from_set_nat_trans_epi</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR"><span class="id" title="lemma">isEpi_projR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#ec50cc74bed6a937afd8ab446daf1ec7"><span class="id" title="definition">R'_η</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="definition">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">nat_trans_ax</span> (<span class="id" title="definition">η</span>  <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>)).<br/>
&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">cancel_precomposition</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#c61d9877351564bc35e5478e78a171eb"><span class="id" title="lemma">R'_μ_def</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>, <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">Monad_law1</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>)). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">id_left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="5e3d9fc622ce2ab2e9351efffc38c989"><span class="id" title="lemma">R'_Monad_law_η2</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="var">c</span> : <span class="id" title="notation">SET</span><span class="id" title="notation">,</span> <span class="id" title="notation">#</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> (<a class="idref" href="Modules.Prelims.quotientmonad.html#ec50cc74bed6a937afd8ab446daf1ec7"><span class="id" title="definition">R'_η</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>) <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="notation">=</span> <span class="id" title="definition">identity</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">functor_comp</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="lemma">is_pointwise_epi_from_set_nat_trans_epi</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR"><span class="id" title="lemma">isEpi_projR</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">nat_trans_ax</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#c61d9877351564bc35e5478e78a171eb"><span class="id" title="lemma">R'_μ_def</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>, <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">Monad_law2</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="abbreviation">idpath</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="assoc_ppprojR"><span class="id" title="lemma">assoc_ppprojR</span></a> <span class="id" title="var">c</span> <br/>
&nbsp;&nbsp;: (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>) ( <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>) <span class="id" title="notation">·</span> <span class="id" title="notation">#</span> <span class="id" title="notation">(</span><a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <span class="id" title="notation">□</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a><span class="id" title="notation">)</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">(</span></a><a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a><a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">)</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Modules.Prelims.lib.html#horcomp_assoc"><span class="id" title="lemma">horcomp_assoc</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <span class="id" title="var">c</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isEpi_projR_projR_projR_pw"><span class="id" title="lemma">isEpi_projR_projR_projR_pw</span></a> <span class="id" title="var">c</span> : <span class="id" title="definition">isEpi</span> ((<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">(</span></a><a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">∙∙</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a><a class="idref" href="Modules.Prelims.quotientmonad.html#e09d6a906f32c61dec0590b0d20cc0e7"><span class="id" title="notation">)</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.EpiComplements.html#isEpi_horcomp_pw2"><span class="id" title="lemma">isEpi_horcomp_pw2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_pw"><span class="id" title="lemma">isEpi_projR_pw</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_R_projR_projR_pw"><span class="id" title="lemma">isEpi_R_projR_projR_pw</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="1d589ee866621de02301346057722e68"><span class="id" title="lemma">R'_Monad_law_μ</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="var">c</span> : <span class="id" title="notation">SET</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">#</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> (<a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a>  <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>) <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a> (<a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>) <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#c"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_projR_projR_pw"><span class="id" title="lemma">isEpi_projR_projR_projR_pw</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">assoc</span> (<span class="id" title="var">C</span>:=<span class="id" title="notation">SET</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">horcomp_pre_post</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="var">use</span> (<span class="id" title="notation">!</span> <span class="id" title="definition">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">cancel_precomposition</span> <span class="id" title="notation">SET</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> (<span class="id" title="notation">!</span><span class="id" title="definition">functor_comp</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#c61d9877351564bc35e5478e78a171eb"><span class="id" title="lemma">R'_μ_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_comp</span>,<span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">cancel_postcomposition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">nat_trans_ax</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>)).<br/>
&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">cancel_precomposition</span> (<span class="id" title="notation">SET</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#c61d9877351564bc35e5478e78a171eb"><span class="id" title="lemma">R'_μ_def</span></a> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. { <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>, (<span class="id" title="lemma">Monad_law3</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>) <span class="id" title="var">c</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_precomposition</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#c61d9877351564bc35e5478e78a171eb"><span class="id" title="lemma">R'_μ_def</span></a>. }<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> -[<span class="id" title="var">projR</span> <span class="id" title="var">compose</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="definition">assoc</span> (<span class="id" title="var">C</span>:=<span class="id" title="notation">SET</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">cancel_postcomposition</span> (<span class="id" title="var">C</span>:=<span class="id" title="notation">SET</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#c61d9877351564bc35e5478e78a171eb"><span class="id" title="lemma">R'_μ_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">cancel_precomposition</span> <span class="id" title="notation">SET</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">nat_trans_ax</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#1242c707a3fbc8dd7585ecb138094e1a"><span class="id" title="definition">R'_μ</span></a>) ( <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [<span class="id" title="tactic">apply</span> (<span class="id" title="notation">!</span><span class="id" title="definition">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#assoc_ppprojR"><span class="id" title="lemma">assoc_ppprojR</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="R'_Monad_laws"><span class="id" title="lemma">R'_Monad_laws</span></a> : <span class="id" title="definition">Monad_laws</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'_Monad_data"><span class="id" title="definition">R'_Monad_data</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#b4640058659b4a9346238ec8a179ce55"><span class="id" title="lemma">R'_Monad_law_η1</span></a>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#5e3d9fc622ce2ab2e9351efffc38c989"><span class="id" title="lemma">R'_Monad_law_η2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#1d589ee866621de02301346057722e68"><span class="id" title="lemma">R'_Monad_law_μ</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="R'_monad"><span class="id" title="definition">R'_monad</span></a> : <span class="id" title="definition">Monad</span> <span class="id" title="var">_</span> := <span class="id" title="var">_</span> <span class="id" title="notation">,,</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'_Monad_laws"><span class="id" title="lemma">R'_Monad_laws</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="projR_monad_laws"><span class="id" title="lemma">projR_monad_laws</span></a>: <span class="id" title="definition">Monad_Mor_laws</span> (<span class="id" title="var">T'</span>:= <a class="idref" href="Modules.Prelims.quotientmonad.html#R'_monad"><span class="id" title="definition">R'_monad</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#c61d9877351564bc35e5478e78a171eb"><span class="id" title="lemma">R'_μ_def</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="abbreviation">idpath</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="projR_monad"><span class="id" title="definition">projR_monad</span></a> : <span class="id" title="definition">Monad_Mor</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="Modules.Prelims.quotientmonad.html#R'_monad"><span class="id" title="definition">R'_monad</span></a>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">_</span> <span class="id" title="notation">,,</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR_monad_laws"><span class="id" title="lemma">projR_monad_laws</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isEpi_projR_monad"><span class="id" title="lemma">isEpi_projR_monad</span></a> : <span class="id" title="definition">isEpi</span> (<span class="id" title="var">C</span>:=<span class="id" title="definition">category_Monad</span> <span class="id" title="var">_</span>) <a class="idref" href="Modules.Prelims.quotientmonad.html#projR_monad"><span class="id" title="definition">projR_monad</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">faithful_reflects_epis</span> (<span class="id" title="definition">forgetfunctor_Monad</span> <span class="id" title="var">_</span>));<br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">forgetMonad_faithful</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR"><span class="id" title="lemma">isEpi_projR</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The quotient monad preserves epimorphisms (trivial with the axiom of choice) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="R'_preserves_Epi"><span class="id" title="lemma">R'_preserves_Epi</span></a> : <a class="idref" href="Modules.Prelims.EpiComplements.html#preserves_Epi"><span class="id" title="definition">preserves_Epi</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Modules.Prelims.EpiComplements.html#epi_nt_preserves_Epi"><span class="id" title="lemma">epi_nt_preserves_Epi</span></a>  <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_pw"><span class="id" title="lemma">isEpi_projR_pw</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R_epi"><span class="id" title="variable">R_epi</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Variables</span> (<a name="QuotientMonad.S"><span class="id" title="variable">S</span></a> : <span class="id" title="definition">Monad</span> <span class="id" title="notation">SET</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="QuotientMonad.m"><span class="id" title="variable">m</span></a> : <span class="id" title="definition">Monad_Mor</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="QuotientMonad.compatm"><span class="id" title="variable">compatm</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="notation">(</span><span class="id" title="var">X</span>:<span class="id" title="notation">SET</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : (<a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.R"><span class="id" title="variable">R</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> : <span class="id" title="definition">hSet</span><span class="id" title="notation">)),</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="notation">→</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="u"><span class="id" title="definition">u</span></a> : <span class="id" title="definition">nat_trans</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">univ_surj_nt</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> (<a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.m"><span class="id" title="variable">m</span></a>)) ; [| <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR"><span class="id" title="lemma">isEpi_projR</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.compatm"><span class="id" title="variable">compatm</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <a name="u_def"><span class="id" title="lemma">u_def</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="var">x</span><span class="id" title="notation">,</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.m"><span class="id" title="variable">m</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u"><span class="id" title="definition">u</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">univ_surj_nt_ax_pw</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
not used here but nevermind 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="u_def_nt"><span class="id" title="lemma">u_def_nt</span></a> :  <span class="id" title="notation">(</span><a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.m"><span class="id" title="variable">m</span></a> : <span class="id" title="definition">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="notation">(</span><span class="id" title="definition">compose</span> (<span class="id" title="var">C</span> := <span class="id" title="notation">[</span><span class="id" title="notation">SET</span><span class="id" title="notation">,</span><span class="id" title="notation">SET</span><span class="id" title="notation">]</span>) (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> : <span class="id" title="definition">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)  <a class="idref" href="Modules.Prelims.quotientmonad.html#u"><span class="id" title="definition">u</span></a><span class="id" title="notation">)</span>  .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">univ_surj_nt_ax</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="u_monad_mor_law1"><span class="id" title="lemma">u_monad_mor_law1</span></a> <br/>
&nbsp;&nbsp;: <span class="id" title="notation">∏</span> <span class="id" title="var">a</span> : <span class="id" title="notation">SET</span><span class="id" title="notation">,</span> (<span class="id" title="definition">μ</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'_monad"><span class="id" title="definition">R'_monad</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u"><span class="id" title="definition">u</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u"><span class="id" title="definition">u</span></a> (<a class="idref" href="Modules.Prelims.quotientmonad.html#R'_monad"><span class="id" title="definition">R'_monad</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#a"><span class="id" title="variable">a</span></a>) <span class="id" title="notation">·</span> <span class="id" title="notation">#</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="Modules.Prelims.quotientmonad.html#u"><span class="id" title="definition">u</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#a"><span class="id" title="variable">a</span></a>) <span class="id" title="notation">·</span> (<span class="id" title="definition">μ</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.S"><span class="id" title="variable">S</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">epi</span> : <span class="id" title="definition">isEpi</span> (<span class="id" title="definition">horcomp</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.EpiComplements.html#epi_nt_SET_pw"><span class="id" title="lemma">epi_nt_SET_pw</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#isEpi_projR_projR"><span class="id" title="lemma">isEpi_projR_projR</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">epi</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{  <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">nat_trans_ax</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. &nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">Monad_Mor_μ</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#projR_monad"><span class="id" title="definition">projR_monad</span></a>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. { <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>. <span class="id" title="var">cpre</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_def"><span class="id" title="lemma">u_def</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> (<span class="id" title="definition">Monad_Mor_μ</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.m"><span class="id" title="variable">m</span></a>) |].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">cpost</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etrans</span>. { <span class="id" title="var">cpost</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_def"><span class="id" title="lemma">u_def</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cpre</span> <span class="id" title="var">_</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="definition">maponpaths</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_def"><span class="id" title="lemma">u_def</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cpost</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cpre</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">nat_trans_ax</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u"><span class="id" title="definition">u</span></a>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="u_monad_mor_law2"><span class="id" title="lemma">u_monad_mor_law2</span></a> : <span class="id" title="notation">∏</span> <span class="id" title="var">a</span> : <span class="id" title="notation">SET</span><span class="id" title="notation">,</span> (<span class="id" title="definition">η</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'_monad"><span class="id" title="definition">R'_monad</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u"><span class="id" title="definition">u</span></a> <a class="idref" href="Modules.Prelims.quotientmonad.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span> (<span class="id" title="definition">η</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.S"><span class="id" title="variable">S</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> (<span class="id" title="notation">!</span><span class="id" title="definition">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Modules.Prelims.quotientmonad.html#u_def"><span class="id" title="lemma">u_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">Monad_Mor_η</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <a name="u_monad_laws"><span class="id" title="lemma">u_monad_laws</span></a> : <span class="id" title="definition">Monad_Mor_laws</span> (<span class="id" title="var">T</span>:= <a class="idref" href="Modules.Prelims.quotientmonad.html#R'_monad"><span class="id" title="definition">R'_monad</span></a>) (<span class="id" title="var">T'</span>:= <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.S"><span class="id" title="variable">S</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#u"><span class="id" title="definition">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_monad_mor_law1"><span class="id" title="lemma">u_monad_mor_law1</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_monad_mor_law2"><span class="id" title="lemma">u_monad_mor_law2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="u_monad"><span class="id" title="definition">u_monad</span></a> : <span class="id" title="definition">Monad_Mor</span> (<a class="idref" href="Modules.Prelims.quotientmonad.html#R'_monad"><span class="id" title="definition">R'_monad</span></a>) <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.S"><span class="id" title="variable">S</span></a><br/>
&nbsp;&nbsp;:= (<span class="id" title="var">_</span> <span class="id" title="notation">,,</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_monad_laws"><span class="id" title="lemma">u_monad_laws</span></a>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <a name="u_monad_def"><span class="id" title="lemma">u_monad_def</span></a> : <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad.m"><span class="id" title="variable">m</span></a> <span class="id" title="notation">=</span> <span class="id" title="notation">(</span><a class="idref" href="Modules.Prelims.quotientmonad.html#projR_monad"><span class="id" title="definition">projR_monad</span></a> : <span class="id" title="definition">category_Monad</span> <span class="id" title="notation">SET</span> <span class="id" title="notation">⟦</span><span class="id" title="var">_</span><span class="id" title="notation">,</span><span class="id" title="var">_</span><span class="id" title="notation">⟧</span><span class="id" title="notation">)</span> <span class="id" title="notation">·</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_monad"><span class="id" title="definition">u_monad</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">Monad_Mor_equiv</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="definition">homset_property</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">nat_trans_eq</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="definition">homset_property</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_def"><span class="id" title="lemma">u_def</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
Here we avoid to prove that the morphism is unique, since this follows easly from the
    uniqueness of the natural transformation for the underlying quotient functor. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#QuotientMonad"><span class="id" title="section">QuotientMonad</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#projR"><span class="id" title="definition">projR</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#R'"><span class="id" title="definition">R'</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Modules.Prelims.quotientmonad.html#u_monad"><span class="id" title="definition">u_monad</span></a>  [<span class="id" title="var">R</span>] <span class="id" title="var">_</span> [ <span class="id" title="var">_</span> <span class="id" title="var">_</span>]  <span class="id" title="var">_</span> [<span class="id" title="var">_</span>] <span class="id" title="var">_</span> .<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>